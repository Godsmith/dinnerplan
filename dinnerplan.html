<head>
  <title>Dinner Plan</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <div>
    <h1>VÃ¤lkommen{{#if currentUser}}, {{/if}}{{currentUser.username}}!</h1>
    {{> loginButtons }}
    <div class="row">
      {{#each weeks}}
        {{> week}}
      {{/each}}
    </div>
  </div>
  {{> editMeal }}}
</body>

<template name="week">
  <div class="col-lg-4 col-sm-6">
    <table class="table table-bordered">
      <tbody>
      {{#each days}}
        {{> day}}
      {{/each}}
      </tbody>
    </table>
  </div>
</template>

<template name="day">
  <tr class="viewing date-{{date}}">
    <td class="date">{{dayFromDate date}}<br>{{formatDate date}}</td>
    <td><a href="#">{{meal}}</a></td>
    {{#if currentUser}}
      <td class="edit">
        <button type="button" class="btn btn-default edit">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
        </button>
      </td>
    {{/if}}
  </tr>
  <tr class='editing date-{{date}}' style="display: none;">
    <td class="date">{{dayFromDate date}}<br>{{formatDate date}}</td>
    <td><input type="text" class="form-control" value={{meal}}></td>
    <td>
      <button type="button" class="btn btn-default ok">
        <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
      </button>
      <button type="button" class="btn btn-default cancel">
        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
      </button>
    </td>
  </tr>
</template>

<template name="editMeal">
  <div style="{{display}}">
    <input type="text" class="form-control" value={{meal.name}}>
    <input type="text" class="form-control" value={{meal.time}}>
    <input type="text" class="form-control" value={{meal.ingredients}}>
    <input type="text" class="form-control" value={{meal.steps}}>

  </div>
</template>
